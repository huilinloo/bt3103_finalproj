(function(t){function e(e){for(var a,n,o=e[0],c=e[1],l=e[2],u=0,h=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&h.push(r[n][0]),r[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},r={app:0},i=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"0509":function(t,e,s){"use strict";s("eb78")},"0710":function(t,e,s){"use strict";s("70b6")},"0da4":function(t,e,s){},"0ed3":function(t,e,s){},"0f8b":function(t,e,s){"use strict";s("231f")},"1cf7":function(t,e,s){},"231f":function(t,e,s){},"2cee":function(t,e,s){},"3f04":function(t,e,s){"use strict";s("a2e0")},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="4678"},"48ac":function(t,e,s){"use strict";s("6105")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[["/","/login","/signup","/merchant-login","/merchant-inputs","/forgot-password"].includes(t.$route.path)?t._e():s("app-header"),s("router-view")],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",[a("li",[a("router-link",{attrs:{to:"/home",exact:"",userid:this.$route.params.userid}},[t._v("Home")])],1),a("li",[a("router-link",{attrs:{to:"/profile",exact:"",userid:this.$route.params.userid}},[t._v("Profile")])],1),a("li",[a("router-link",{attrs:{to:"/leaderboard",exact:"",userid:this.$route.query.userid}},[t._v("Leaderboard")])],1),a("li",[a("router-link",{attrs:{to:"/rewards",exact:"",userid:this.$route.params.userid}},[t._v("Rewards")])],1),a("router-link",{attrs:{to:"/home",exact:""}},[a("img",{staticStyle:{width:"200px"},attrs:{src:s("cf05"),alt:"not found"}})]),a("li",[a("router-link",{attrs:{to:"/newsroom",exact:""}},[t._v("Newsroom")])],1),a("li",[a("router-link",{attrs:{to:"/history",exact:"",userid:this.$route.params.userid}},[t._v("History")])],1),a("li",[a("router-link",{attrs:{to:"/help",exact:""}},[t._v("Help")])],1),a("li",[a("a",{staticClass:"nav-link",on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[t._v("Sign out")])])],1)])},o=[],c=(s("5319"),s("ac1f"),s("2591")),l={methods:{signOut:function(){var t=this;c["a"].auth().signOut().then((function(){t.$router.replace({path:"/"})}))}}},d=l,u=(s("7286"),s("2877")),h=Object(u["a"])(d,n,o,!1,null,"37572999",null),p=h.exports,f={name:"App",components:{"app-header":p}},m=f,b=(s("034f"),Object(u["a"])(m,r,i,!1,null,null,null)),v=b.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"container"}},[a("div",{attrs:{id:"logo"}},[a("img",{staticClass:"logo",attrs:{src:s("cf05")}}),t._v(" "),a("br"),a("p",[t._v("Say no to single-use plastics, switch to reusable. ")]),a("p",[t._v(" Total Plastic Saved in SG: ")]),a("h2",[t._v(" "+t._s(t.totalPlastic+"G")+" ")]),a("p",[t._v(" Total Users Joined in SG: ")]),a("h2",[t._v(" "+t._s(t.user.length+" People")+" ")]),a("p",[t._v(" Total Weekly Target of Saving Plastic: ")]),a("h2",[t._v(" "+t._s(t.totalTarget+"G")+" ")])]),a("div",{attrs:{id:"all_buttons"}},[a("h1",[t._v(" Welcome Back! ")]),a("div",{attrs:{id:"users"}},[a("button",{on:{click:t.toUserLogin}},[a("img",{staticClass:"icons",attrs:{src:"http://assets.stickpng.com/images/585e4bf3cb11b227491c339a.png"}}),t._v(" User Login")]),a("br")]),a("div",{attrs:{id:"merchants"}},[a("button",{on:{click:t.toMerchantLogin}},[a("img",{staticClass:"icons",attrs:{src:"https://static.thenounproject.com/png/2286059-200.png"}}),t._v(" Merchant Login")])])])])},g=[],w=(s("159b"),s("2f62"));a["a"].use(w["a"]);var j=new w["a"].Store({state:{user:{loggedIn:!1,data:null}},getters:{user:function(t){return t.user}},mutations:{SET_LOGGED_IN:function(t,e){t.user.loggedIn=e},SET_USER:function(t,e){t.user.data=e}},actions:{fetchUser:function(t,e){var s=t.commit;s("SET_LOGGED_IN",null!==e),s("SET_USER",e?{displayName:e.displayName,email:e.email}:null)}}}),y={apiKey:"AIzaSyDq6v-PEnsdSxHw8dsgjBKNjuSNHAorB4k",authDomain:"bt3103-finalproject-99e6a.firebaseapp.com",projectId:"bt3103-finalproject-99e6a",storageBucket:"bt3103-finalproject-99e6a.appspot.com",messagingSenderId:"662664852864",appId:"1:662664852864:web:3479d6204f657c716c7d65",measurementId:"G-LPW9W16K43"};c["a"].initializeApp(y),c["a"].auth().onAuthStateChanged((function(t){j.dispatch("fetchUser",t)}));var k=c["a"].firestore(),C=k,x={data:function(){return{user:[],totalPlastic:0,totalTarget:0}},methods:{fetchItems:function(){var t=this;C.collection("users").get().then((function(e){var s={};e.forEach((function(e){s=e.data(),s.id=e.id,t.user.push(s),t.totalPlastic+=s.totalplastic,t.totalTarget+=s.weeklygoal}))}))},toUserLogin:function(){this.$router.push("/login")},toMerchantLogin:function(){this.$router.push("/merchant-login")}},created:function(){this.fetchItems()}},S=x,P=(s("48ac"),Object(u["a"])(S,_,g,!1,null,"14a3fc0e",null)),E=P.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("img",{attrs:{src:"https://i.postimg.cc/3x2ksmnP/forest-bathing.jpg"}}),s("div",{staticClass:"login"},[s("h3",[s("Strong",[t._v("Login")])],1),s("br"),t.error?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),s("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("label",{attrs:{for:"email"}},[t._v("Email Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control form-control-lg",attrs:{id:"email",type:"email",name:"email",value:"",required:"",autofocus:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control form-control-lg",attrs:{id:"password",type:"password",name:"password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),s("button",{staticClass:"btn btn-dark btn-lg btn-block",attrs:{type:"submit"}},[t._v(" Sign In ")]),s("p",{staticClass:"forgot-password text-right mt-2 mb-4"},[s("router-link",{attrs:{to:"/forgot-password"}},[t._v("Forgot password ?")])],1),s("p",{staticClass:"signup"},[s("router-link",{attrs:{to:"/signup"}},[t._v("Don't have an account yet? Join us today!")])],1)])])])},D=[],q={data:function(){return{form:{email:"",password:""},error:null,userid:""}},methods:{submit:function(){var t=this;c["a"].auth().signInWithEmailAndPassword(this.form.email,this.form.password).then((function(e){var s=e.user;t.userid=s.uid,t.$router.push({path:"/home"})})).catch((function(e){t.error=e.message})).onAuthStateChanged((function(t){t&&console.log(t.uid)}))}}},z=q,N=(s("6eee"),Object(u["a"])(z,$,D,!1,null,"b4263082",null)),T=N.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"welcome"}},[s("h1",{attrs:{id:"w"}},[t._v(t._s("Welcome back, "+this.name+"!"))]),s("br"),s("div",{attrs:{id:"chart"}},[s("h2",[t._v("Weekly Trend of Platic You Saved")]),s("line-chart",{attrs:{"chart-data":t.datacollection,height:800}}),s("button",{on:{click:function(e){return t.fillData()}}},[t._v("Show")])],1),s("div",{attrs:{id:"info"}},[s("h2",[t._v("Number of Merchants and Users")]),s("bar-chart",{attrs:{"chart-data":t.datacollection1,height:400}}),s("button",{on:{click:function(e){return t.fillData1()}}},[t._v("Show")])],1),s("div",{attrs:{id:"pie"}},[s("h2",[t._v("Plastic You Saved in Different Categories")]),s("pie-chart",{attrs:{"chart-data":t.datacollection2,height:400}}),s("button",{on:{click:function(e){return t.fillData2()}}},[t._v("Show")])],1)])},A=[],U=(s("b0c0"),s("1fca")),I=U["e"].reactiveProp,F={extends:U["c"],mixins:[I],data:function(){return{options:{scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{display:!0}}],xAxes:[{gridLines:{display:!1}}]},legend:{labels:{fontSize:30}},responsive:!0,maintainAspectRatio:!1}}},mounted:function(){this.renderChart(this.chartdata,this.options)}},G=U["e"].reactiveProp,M={extends:U["a"],mixins:[G],data:function(){return{options:{scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{display:!0}}],xAxes:[{gridLines:{display:!1}}]},legend:{labels:!1},responsive:!0,maintainAspectRatio:!1}}},mounted:function(){this.renderChart(this.chartdata,this.options)}},R=U["e"].reactiveProp,W={extends:U["d"],mixins:[R],data:function(){return{options:{legend:{labels:{fontSize:30}},responsive:!0,maintainAspectRatio:!1}}},mounted:function(){this.renderChart(this.chartdata,this.options)}},L={components:{"line-chart":F,"bar-chart":M,"pie-chart":W},data:function(){return{datacollection:null,home:[],userid:"",start:"",name:"",plastic:{},cat:{},me:[],datacollection1:null,datacollection2:null}},methods:{fetchItems:function(){var t=this;C.collection("users").get().then((function(e){var s={};e.forEach((function(e){s=e.data(),s.id=e.id,t.home.push(s)}))})),C.collection("merchants").get().then((function(e){var s={};e.forEach((function(e){s=e.data(),t.me.push(s)}))})),this.userid=c["a"].auth().currentUser.uid,C.collection("users").doc(this.userid).get().then((function(e){t.start=e.data().startdate,t.name=e.data().username,t.plastic=e.data().list_plastic,t.cat=e.data().plastic_cat}))},fillData:function(){this.datacollection={labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],datasets:[{label:"This week",data:[this.plastic["2021-4-12"],this.plastic["2021-4-13"],this.plastic["2021-4-14"],this.plastic["2021-4-15"],this.plastic["2021-4-16"],this.plastic["2021-4-17"],this.plastic["2021-4-18"]],borderWidth:3,borderColor:"#004d99",backgroundColor:"#e6f3ff"},{label:"Last week",data:[this.plastic["2021-4-05"],this.plastic["2021-4-06"],this.plastic["2021-4-07"],this.plastic["2021-4-08"],this.plastic["2021-4-09"],this.plastic["2021-4-10"],this.plastic["2021-4-11"]],borderWidth:3,borderColor:"#c2d6d6",fill:!1}]}},fillData1:function(){this.datacollection1={labels:["Merchants","Users"],datasets:[{label:!1,data:[this.me.length,this.home.length],backgroundColor:["#70dbdb","#004d99"],borderWidth:2,borderColor:"#000"}]}},fillData2:function(){this.datacollection2={labels:["Plastic Bag","Plastic Container","Plastic Straw"],datasets:[{label:"G",data:[this.cat["plastic_bag"],this.cat["plastic_container"],this.cat["straw"]],backgroundColor:["#009933","#5cd65c","#bdf5bd"],borderWidth:2,borderColor:"#000"}]}}},created:function(){this.fetchItems()},mounted:function(){this.fillData(),this.fillData1(),this.fillData2()}},H=L,B=(s("992e"),Object(u["a"])(H,O,A,!1,null,"3eb98946",null)),Y=B.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"profile"}},[s("div",{attrs:{id:"user"}},[s("img",{attrs:{src:"https://image.freepik.com/free-vector/man-profile-cartoon_18591-58482.jpg"}}),s("h1",[t._v(" "+t._s(this.name)+" ")]),s("p",[t._v(" "+t._s("MEMBER SINCE "+this.date)+" ")]),t._v(" "),s("br"),t._v(" "),s("br"),s("form",{attrs:{id:"fm"}},[s("h1",[t._v(" Add Friends ")]),s("label",[t._v("Friend's Username ")]),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.fname,expression:"fname",modifiers:{lazy:!0}}],attrs:{type:"text",required:""},domProps:{value:t.fname},on:{change:function(e){t.fname=e.target.value}}}),s("br"),s("button",{on:{click:function(e){return e.preventDefault(),t.addFriend(e)}}},[t._v("Add Friend ")])])]),t._m(0),s("div",{attrs:{id:"pie1"}},[s("doughnut-chart",{attrs:{height:230}})],1),s("div",{attrs:{id:"lifetime"}},[s("h1",{attrs:{id:"l"}},[t._v("Lifetime Statistics")]),t._v(" "),s("br"),s("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqrsTh0P06Y5o3PSd-4PKbuo-eS-ttZAtp8Us6brIytrxhq4WD15hlZzOOqD8vk7W6HmE&usqp=CAU",id:"img2"}}),s("br"),s("br"),s("h1",[t._v(" "+t._s(this.friends+" FRIENDS")+" ")])]),s("div",{attrs:{id:"plastic"}},[s("img",{attrs:{src:"https://image.flaticon.com/icons/png/512/2639/2639818.png",id:"img1"}}),s("h1",[t._v(" "+t._s(this.totalplastic+"G PLASTIC SAVED"))])])])},K=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"bar"}},[s("h1",{attrs:{id:"thisweek"}},[t._v("This Week ")])])}],J={extends:U["b"],data:function(){return{chartdata:{labels:["Progress to goal","Weekly goal left"],datasets:[{label:"Ryan",data:[169,31],backgroundColor:["#40bf40","#d8f3d8"],borderWidth:0,borderColor:"#000"}]},options:{layout:{padding:{left:5,right:0,top:0,bottom:10}},legend:{position:"left",labels:{fontSize:25}}}}},mounted:function(){this.renderChart(this.chartdata,this.options)}},V=s("260b"),Q={components:{"doughnut-chart":J},data:function(){return{user:[],userid:"",name:"",date:"",friends:0,totalplastic:0,fname:"",flist:[],fid:"",exsit:"no"}},methods:{fetchItems:function(){var t=this;C.collection("users").get().then((function(e){var s={};e.forEach((function(e){s=e.data(),s.id=e.id,t.user.push(s)}))})),this.userid=c["a"].auth().currentUser.uid,C.collection("users").doc(this.userid).get().then((function(e){t.date=e.data().startdate,t.name=e.data().username,t.friends=e.data().list_friend.length,t.totalplastic=e.data().totalplastic}))},addFriend:function(){for(var t=0;t<this.user.length;t++){if(this.fname==this.user[t].username){this.exsit="yes",this.fid=this.user[t].id,t=this.user.length-1;break}this.exsit="no"}"yes"===this.exsit?(C.collection("users").doc(this.userid).update({list_friend:V["a"].firestore.FieldValue.arrayUnion(this.fname)}),C.collection("users").doc(this.fid).update({list_friend:V["a"].firestore.FieldValue.arrayUnion(this.name)}),alert(this.fname+" added to your friend list!")):alert("The username is not found. Please key in valid username."),this.fname="",this.exsit="no",window.location.reload()}},created:function(){this.fetchItems()}},X=Q,tt=(s("a519"),Object(u["a"])(X,Z,K,!1,null,"bee04e28",null)),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"leaderboard"}},[t._m(0),t._m(1),t._m(2),s("div",{staticClass:"sg"},[s("table",[t._m(3),t._l(t.sortedSG,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"position"},[s("b",[t._v(t._s(a+1))])]),s("td",[t._v(t._s(e.username))]),s("td",[t._v(t._s(e.total_plastic))])])}))],2)]),s("div",{staticClass:"vl"}),s("div",{staticClass:"friends"},[s("table",[t._m(4),t._l(t.sortedFriends,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"position"},[s("b",[t._v(t._s(a+1))])]),s("td",[t._v(t._s(e.username))]),s("td",[t._v(t._s(e.total_plastic))])])}))],2)])])},at=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("img",{staticClass:"header__img",attrs:{src:"https://www.freeiconspng.com/thumbs/leaderboard-icon/leaderboard-icon-9.png"}}),s("div",{staticClass:"header__text"},[s("h1",[t._v(" Leaderboard ")]),s("p",[s("i",[t._v(" Save more plastic to climb up the leaderboard! ")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top10_sg"},[s("p",{attrs:{id:"textsg"}},[t._v("Top 10 "),s("br"),s("br"),s("br"),t._v(" Singapore")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top10_friends"},[s("p",{attrs:{id:"textfriends"}},[t._v("Top 10 "),s("br"),s("br"),s("br"),t._v(" Friends")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[s("img",{staticClass:"rank_img",attrs:{src:"https://image.flaticon.com/icons/png/512/15/15643.png"}}),t._v(" Rank")]),s("th",[s("img",{staticClass:"user_img",attrs:{src:"https://i.pinimg.com/originals/0c/3b/3a/0c3b3adb1a7530892e55ef36d3be6cb8.png"}}),t._v(" User")]),s("th",[s("img",{staticClass:"plastic_img",attrs:{src:"https://cdn4.iconfinder.com/data/icons/plastic-bag/100/plastic_bag-06-512.png"}}),t._v(" Total Plastic Saved")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[s("img",{staticClass:"rank_img",attrs:{src:"https://image.flaticon.com/icons/png/512/15/15643.png"}}),t._v(" Rank")]),s("th",[s("img",{staticClass:"user_img",attrs:{src:"https://i.pinimg.com/originals/0c/3b/3a/0c3b3adb1a7530892e55ef36d3be6cb8.png"}}),t._v(" User")]),s("th",[s("img",{staticClass:"plastic_img",attrs:{src:"https://cdn4.iconfinder.com/data/icons/plastic-bag/100/plastic_bag-06-512.png"}}),t._v(" Total Plastic Saved")])])}],rt=(s("fb6a"),{data:function(){return{sg:[],friends:[],friends_username:[],userid:""}},computed:{sortedFriends:function(){return this.sortArrays(this.friends)},sortedSG:function(){return this.sortArrays(this.sg)}},methods:{getFriendsDetails:function(){var t=this;C.collection("users").where("username","in",this.friends_username).get().then((function(e){e.forEach((function(e){var s=e.data().totalplastic;t.friends.push({username:e.data().username,total_plastic:s})}))}))},getSGUsersDetails:function(){var t=this;C.collection("users").get().then((function(e){e.docs.forEach((function(e){var s=e.data();t.sg.push({username:s.username,total_plastic:s.totalplastic})}))}))},fetchData:function(){var t=this;this.userid=c["a"].auth().currentUser.uid,C.collection("users").doc(this.userid).get().then((function(e){var s=e.data().list_friend;for(var a in s)t.friends_username.push(s[a]);t.getFriendsDetails()})),this.getSGUsersDetails()},sortArrays:function(t){return t.sort((function(t,e){return e.total_plastic-t.total_plastic})).slice(0,10)}},created:function(){this.fetchData()}}),it=rt,nt=(s("ada3"),Object(u["a"])(it,st,at,!1,null,"04835b32",null)),ot=nt.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"rewards"}},[s("div",{staticClass:"pts_desc"},[s("h2",[t._v("You have ")]),s("b",{attrs:{id:"num_pts"}},[t._v(t._s(this.points))]),s("span",{attrs:{id:"pts"}},[t._v("Pts")])]),s("br"),s("br"),s("br"),s("div",{attrs:{id:"reward-types"}},[s("ul",t._l(t.rewards,(function(e,a){return s("li",{key:e.name},[s("img",{attrs:{src:e.url}}),s("h3",[t._v(t._s(e.name))]),s("h4",[t._v(t._s(e.value)+" points")]),s("br"),s("button",{attrs:{id:"redeem",reward:a},on:{click:function(e){return t.clicked(a)}}},[t._v("Redeem Pts")])])})),0)])])},lt=[],dt={data:function(){return{points:0,rewards:[{name:"Gong Cha $3 voucher",value:500,url:"http://www.gong-cha-sg.com/wp-content/uploads/2017/11/1.png"},{name:"Seastainable Straw Set",value:500,url:"https://cdn.shopify.com/s/files/1/2505/0888/products/straw-silver_b6f94502-7a86-4ee9-8a62-04ec20208ce5_2048x.png?v=1563447283"},{name:"FairPrice $5 voucher",value:1e3,url:"https://oroinc.com/b2b-ecommerce/wp-content/uploads/sites/3/2019/07/fairprice-1500x1500-1.png"}],userid:""}},methods:{clicked:function(t){var e=this.rewards[t];if(this.points>=e.value){alert("Redemption successful. Take a photo of this page and show to the respective merchant");var s=this.points-e.value;C.collection("users").doc(this.userid).update({redeemed:V["a"].firestore.FieldValue.arrayUnion(e.name)}),C.collection("users").doc(this.userid).update({points:s}),this.$router.push("History")}else alert("Redemption unsuccessful. Save more plastic!")},fetchData:function(){var t=this;this.userid=c["a"].auth().currentUser.uid,C.collection("users").doc(this.userid).get().then((function(e){t.points=e.data().points}))}},created:function(){this.fetchData()}},ut=dt,ht=(s("0f8b"),Object(u["a"])(ut,ct,lt,!1,null,"9dfb42ca",null)),pt=ht.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"newslist"},[t._m(0),s("div",{staticClass:"container"},[s("ul",{staticClass:"media-list"},t._l(t.articles,(function(e){return s("li",{key:e.url,staticClass:"media"},[s("div",{staticClass:"media-left"},[s("a",{attrs:{href:e.url,target:"_blank"}},[s("img",{staticClass:"media-object",attrs:{src:e.urlToImage}})])]),s("div",{staticClass:"media-body"},[s("h4",{staticClass:"media-heading"},[s("a",{attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.title))])]),s("h5",[s("i",[t._v("by "+t._s(e.author))])]),s("p",[t._v(t._s(e.description))])])])})),0)])])},mt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"announcements"},[s("h1",[t._v(" ANNOUNCEMENTS ")]),s("div",{staticClass:"announement-body"},[s("br"),s("h3",[t._v(" 31/03/2021 15:23")]),s("h2",[t._v(" GreenSG just got a new look! Now you can see how you rank against other Singaporeans ")]),s("br"),s("br"),s("h3",[t._v(" 15/03/2021 12:22")]),s("h2",[t._v(" Minor bug fixes ")]),s("br"),s("br"),s("h3",[t._v(" 20/02/2021 11:23")]),s("h2",[t._v(" We welcome Seastainable as our first sponsor. Now you can redeem Seastainable's metal straw set at only 500 points. ")]),s("br"),s("br"),s("h3",[t._v(" 29/01/2021 14:23")]),s("h2",[t._v(" Welcome to GreenSG. GreenSG is the first of its kind, a challenge to reducee plastic waste.")])])])}],bt=s("bc3a"),vt=s.n(bt),_t={name:"newslist",data:function(){return{articles:[]}},methods:{getData:function(){var t=this;vt.a.get("https://newsapi.org/v2/top-headlines?category=science&language=en&apiKey=04aa2326f23646caaaa6903108823610").then((function(e){t.articles=e.data.articles}))}},mounted:function(){this.getData()}},gt=_t,wt=(s("3f04"),Object(u["a"])(gt,ft,mt,!1,null,"9a92b5b0",null)),jt=wt.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"history"}},[s("h1",[t._v("Past Transctions")]),s("h2",[t._v("Your most recent reward redemptions ")]),s("br"),s("br"),s("h2",[t._v(" From Most Recent ")]),s("ul",t._l(t.redeemed,(function(e){return s("li",{key:e.id},[s("br"),s("h2",[t._v(t._s(e))]),s("br")])})),0)])},kt=[],Ct={data:function(){return{redeemed:[],userid:""}},methods:{fetchData:function(){var t=this;this.userid=c["a"].auth().currentUser.uid,C.collection("users").doc(this.userid).get().then((function(e){t.redeemed=e.data().redeemed}))}},created:function(){this.fetchData()}},xt=Ct,St=(s("0710"),Object(u["a"])(xt,yt,kt,!1,null,"f82b291e",null)),Pt=St.exports,Et=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},$t=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"help"}},[s("h1",[t._v("FAQs")]),s("h2",{attrs:{id:"question 1"}},[t._v("When can we see more rewards?"),s("br")]),s("p",{attrs:{id:"answer 1"}},[t._v(" We are constantly seeking out for more merchants to sponsor us"),s("br"),t._v(" Do look out for future updates!"),s("br"),t._v(" If you are a merchant and wish to contribute to rewards, please email us at sponsors@greensg.com"),s("br")]),s("h2",{attrs:{id:"question 2"}},[t._v(" How do I redeem the points I have accumulated?"),s("br")]),s("p",{attrs:{id:"answer 2"}},[t._v(" Please follow the instructions below:"),s("br"),t._v(' a) Tap on "Rewards" on the menu bar of the website.'),s("br"),t._v(' b) Tap "Redeem points" button.'),s("br"),t._v(" c) Choose which vouchers/coupons you would like to redeem."),s("br"),t._v(' d) Under the "Redeemed" tab you can now see your voucher/coupon code. Show this code to the merchant on your next purchase. ')]),s("h2",{attrs:{id:"question 3"}},[t._v("Do points expire?"),s("br")]),s("p",{attrs:{id:"answer 3"}},[t._v(" No, points do not expire. However, vouchers have a validation period of 4 weeks. ")]),s("em",{attrs:{id:"additional-queries"}},[t._v(" Still have questions? Contact us at help@greensg.com ")])])}],Dt=(s("0509"),{}),qt=Object(u["a"])(Dt,Et,$t,!1,null,"e176385c",null),zt=qt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("img",{attrs:{src:"https://i.postimg.cc/4xwY4sR5/wolrd-environmental-day-copy-2.jpg",align:"left"}}),t.error?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),s("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"input_container"},[s("h3",[s("Strong",[t._v("Create Account")])],1),s("br"),s("label",{attrs:{for:"name"}},[t._v("Username:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control form-control-lg",attrs:{id:"name",type:"name",name:"name",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),s("label",{attrs:{for:"email"}},[t._v("Email Address:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control form-control-lg",attrs:{id:"email",type:"email",name:"email",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),s("label",{attrs:{for:"phone"}},[t._v("Phone Number: ")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control form-control-lg",attrs:{id:"phone",type:"text",name:"phone",required:""},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}}),s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{id:"password",type:"password",name:"password",required:"",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},t.checkPassword],click:function(e){return t.displayMsg()}}}),s("br"),s("ul",[s("li",{class:{is_valid:t.contains_eight_characters}},[t._v(" 8 Characters ")]),s("li",{class:{is_valid:t.contains_number}},[t._v("Contains Number")]),s("li",{class:{is_valid:t.contains_uppercase}},[t._v(" Contains Uppercase ")]),s("li",{class:{is_valid:t.contains_special_character}},[t._v(" Contains Special Character ")])]),s("div",{staticClass:"checkmark_container",class:{show_checkmark:t.valid_password}},[s("svg",{attrs:{width:"50%",height:"50%",viewBox:"0 0 140 100"}},[s("path",{staticClass:"checkmark",class:{checked:t.valid_password},attrs:{d:"M10,50 l25,40 l95,-70"}})])]),s("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"submit"}},[t._v(" Sign Up ")])])])])},Tt=[],Ot={data:function(){return{form:{name:"",email:"",phone:""},error:null,password:"",password_length:0,contains_eight_characters:!1,contains_number:!1,contains_uppercase:!1,contains_special_character:!1,valid_password:!1}},methods:{checkPassword:function(){this.password_length=this.password.length;var t=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;this.password_length>8?this.contains_eight_characters=!0:this.contains_eight_characters=!1,this.contains_number=/\d/.test(this.password),this.contains_uppercase=/[A-Z]/.test(this.password),this.contains_special_character=t.test(this.password),!0===this.contains_eight_characters&&!0===this.contains_special_character&&!0===this.contains_uppercase&&!0===this.contains_number?this.valid_password=!0:this.valid_password=!1},submit:function(){var t=this;c["a"].auth().createUserWithEmailAndPassword(this.form.email,this.password).then((function(e){var s=e.user,a=s.uid;c["a"].firestore().collection("users").doc(a).set({email:t.form.email,list_friend:[],password:t.password,phone:t.form.phone,points:0,startdate:t.startdate,thisweek:0,totalplastic:0,username:t.form.name,weeklygoal:0,list_plastic:{},plastic_cat:{}}),alert("Successfully signed up! Please login."),t.$router.push("/login")})).catch((function(t){var e=t.code,s=t.message;"auth/weak-password"==e?alert("The password is too weak."):alert(s),console.log(t)}))},getStartDate:function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.startdate=e}},mounted:function(){this.getStartDate()}},At=Ot,Ut=(s("61f9"),Object(u["a"])(At,Nt,Tt,!1,null,"6e28501c",null)),It=Ut.exports,Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reset"},[s("form",[s("h3",[s("Strong",[t._v("Forgot Password")])],1),s("br"),t._m(0),s("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"submit"}},[t._v("Reset password")])])])},Gt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",[t._v("Email Address")]),s("input",{staticClass:"form-control form-control-lg",attrs:{type:"email"}})])}],Mt={data:function(){return{}}},Rt=Mt,Wt=(s("7c64"),Object(u["a"])(Rt,Ft,Gt,!1,null,"3eab6b7c",null)),Lt=Wt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{staticStyle:{width:"200px"},attrs:{src:s("cf05"),alt:"not found"}}),a("div",{staticClass:"login"},[a("form",[a("h3",[a("Strong",[t._v("MERCHANT PORTAL")])],1),a("br"),a("div",{staticClass:"form-group"},[a("label",[t._v("ID")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control form-control-lg",attrs:{type:"id"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("button",{staticClass:"btn btn-dark btn-lg btn-block",attrs:{type:"submit"},on:{click:function(e){return t.checkPassword()}}},[t._v("Sign In")]),a("p",{staticClass:"forgot-password text-right mt-2 mb-4"},[a("router-link",{attrs:{to:"/forgot-password"}},[t._v("Forgot password ?")])],1)])])])},Bt=[],Yt={data:function(){return{id:"",password:"",authenticated:!1,users:[]}},methods:{fetchItem:function(){var t=this;C.collection("merchants").get().then((function(e){var s={};e.forEach((function(e){s=e.data(),s.id=e.id,t.users.push([s.id,s])}))}))},checkPassword:function(){for(var t=0;t<this.users.length;t++){var e=this.users[t];e[0]==this.id&&e[1].password==this.password&&(this.authenticated=!0)}1==this.authenticated?this.$router.push("merchant-inputs"):alert("Invalid credentials entered!")}},created:function(){this.fetchItem()}},Zt=Yt,Kt=(s("6579"),Object(u["a"])(Zt,Ht,Bt,!1,null,"5cc2f534",null)),Jt=Kt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("img",{attrs:{src:s("8dfd"),align:"left"}}),a("form",{ref:"anyName",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.addPoints(e)}}},[a("div",{staticClass:"input_container"},[a("h3",[a("Strong",[t._v("Add Customer Points")])],1),a("br"),a("label",{staticStyle:{"font-size":"20px"},attrs:{for:"phone"}},[t._v("Phone Number: ")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.phone,expression:"phone",modifiers:{lazy:!0}}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"phone",required:""},domProps:{value:t.phone},on:{change:function(e){t.phone=e.target.value}}}),1==t.checkPhone()?a("p",[t._v(t._s("Username is "+this.username))]):t._e(),a("br"),a("br"),a("label",{staticStyle:{"font-size":"20px"},attrs:{for:"points"}},[t._v("Points Earned: ")]),a("br"),a("br"),a("form",{attrs:{id:"my_form"}}),a("table",{attrs:{id:"info"}},[t._m(0),a("tr",[a("td",[t._v("Straw")]),a("td",[t._v("5")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:t.straw_qty,expression:"straw_qty",modifiers:{number:!0,lazy:!0}}],staticStyle:{width:"50px"},attrs:{min:"0",type:"number",required:""},domProps:{value:t.straw_qty},on:{change:function(e){t.straw_qty=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])]),a("tr",[a("td",[t._v("Plastic Bag")]),a("td",[t._v("10")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:t.pb_qty,expression:"pb_qty",modifiers:{number:!0,lazy:!0}}],staticStyle:{width:"50px"},attrs:{min:"0",type:"number",required:""},domProps:{value:t.pb_qty},on:{change:function(e){t.pb_qty=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])]),a("tr",[a("td",[t._v("Plastic Container")]),a("td",[t._v("20")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:t.pc_qty,expression:"pc_qty",modifiers:{number:!0,lazy:!0}}],staticStyle:{width:"50px"},attrs:{min:"0",type:"number",required:""},domProps:{value:t.pc_qty},on:{change:function(e){t.pc_qty=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])])]),a("br"),a("span",{staticStyle:{"font-size":"20px"}},[t._v(" Total points: "+t._s(t.calc_total))]),a("br"),a("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"submit"}},[t._v(" Submit ")]),a("br")])])])},Qt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("Item")]),s("th",[t._v("Amount of Points per item")]),s("th",[t._v("Quantity")])])}],Xt=s("53ca"),te={data:function(){return{phone:"",users:[],username:"",sameNumber:!1,new_points:0,id:"",curr_points:null,curr_plastic:null,date:null,list_plastic:null,straw_qty:0,pb_qty:0,pc_qty:0,updated_points:0,updated_plastic:0,plastic_cat:null}},computed:{calc_total:function(){return 5*this.straw_qty+10*this.pb_qty+20*this.pc_qty}},methods:{fetchItem:function(){var t=this;C.collection("users").get().then((function(e){var s={};e.forEach((function(e){s=e.data(),s.id=e.id,t.users.push([s.id,s])}))}))},checkPhone:function(){for(var t=0;t<this.users.length;t++){var e=this.users[t];e[1].phone==this.phone&&(this.sameNumber=!0,this.username=e[1].username,this.id=e[0])}return 0!=this.sameNumber||(this.username="not found",!1)},addPoints:function(){if(0==this.sameNumber)alert("Invalid phone number!"),this.$router.push("/merchant-inputs");else{this.new_points=this.calc_total,console.log(this.new_points);for(var t=0;t<this.users.length;t++){var e=this.users[t];e[1].phone==this.phone&&(this.curr_points=e[1].points,this.curr_plastic=e[1].totalplastic,this.list_plastic=e[1].list_plastic,this.plastic_cat=e[1].plastic_cat)}console.log("list of plastic"+this.list_plastic),console.log("current amount of points"+this.curr_points),console.log("type of curr_points"+Object(Xt["a"])(this.curr_points)),this.updated_points=this.curr_points+this.new_points,this.updated_plastic=this.curr_plastic+this.new_points,console.log("new points"+this.new_points),console.log("updated amt of points"+this.updated_points),this.date in this.list_plastic?this.list_plastic[this.date]=this.list_plastic[this.date]+this.new_points:this.list_plastic[this.date]=this.new_points,this.plastic_cat["straw"]=this.plastic_cat["straw"]+5*this.straw_qty,this.plastic_cat["plastic_bag"]=this.plastic_cat["plastic_bag"]+10*this.pb_qty,this.plastic_cat["plastic_container"]=this.plastic_cat["plastic_container"]+20*this.pc_qty,console.log("updated list of plastic"+this.list_plastic),C.collection("users").doc(this.id).update({points:this.updated_points,totalplastic:this.updated_plastic,list_plastic:this.list_plastic,plastic_cat:this.plastic_cat}),alert("Successfully added points!")}},getTodaysDate:function(){var t=new Date;this.date=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},created:function(){this.fetchItem(),this.getTodaysDate()}},ee=te,se=(s("a823"),Object(u["a"])(ee,Vt,Qt,!1,null,"4bff5364",null)),ae=se.exports,re=[{path:"/",component:E},{path:"/home",component:Y},{path:"/profile",component:et},{path:"/leaderboard",component:ot},{path:"/rewards",component:pt},{path:"/newsroom",component:jt},{path:"/history",component:Pt,name:"history"},{path:"/help",component:zt},{path:"/login",component:T},{path:"/signup",component:It},{path:"/forgot-password",component:Lt},{path:"/merchant-login",component:Jt},{path:"/merchant-inputs",component:ae}],ie=(s("ab8b"),s("8c4f"));a["a"].config.productionTip=!1,a["a"].config.productionTip=!1,a["a"].use(ie["a"]);var ne=new ie["a"]({routes:re,mode:"history"});new a["a"]({render:function(t){return t(v)},router:ne}).$mount("#app")},5796:function(t,e,s){},6105:function(t,e,s){},"61f9":function(t,e,s){"use strict";s("83fb")},6579:function(t,e,s){"use strict";s("5796")},"6eee":function(t,e,s){"use strict";s("0da4")},7046:function(t,e,s){},"70b6":function(t,e,s){},7286:function(t,e,s){"use strict";s("0ed3")},"7b1c":function(t,e,s){},"7c64":function(t,e,s){"use strict";s("1cf7")},"83fb":function(t,e,s){},"85ec":function(t,e,s){},"8dfd":function(t,e,s){t.exports=s.p+"img/merchant.ad4a96e1.jpg"},"992e":function(t,e,s){"use strict";s("7046")},a2e0:function(t,e,s){},a519:function(t,e,s){"use strict";s("2cee")},a823:function(t,e,s){"use strict";s("7b1c")},ada3:function(t,e,s){"use strict";s("b57a")},b57a:function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.066da0e4.png"},eb78:function(t,e,s){}});
//# sourceMappingURL=app.8283669d.js.map